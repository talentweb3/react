(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{555:function(e,t,n){},556:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(25),i=n.n(o),s=n(86),u=n(38),l=n(618),d=n(374),p=n(286),j=n(113),b=n(34),f=n(11),O=n(616),x=n(127),h=n(615),m=n(3),v=Object(r.createContext)({user:null,setUser:null,currentId:0,setCurrentId:null}),g=function(e){var t=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),n=Object(f.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(0),i=Object(f.a)(o,2),s=i[0],u=i[1],l=Object(x.b)({overrides:{MuiCssBaseline:{"@global":{img:{objectFit:"cover",width:"100%",height:"auto"},a:{textDecoration:"none",paddingRight:3}}}}});return Object(m.jsx)(v.Provider,{value:{user:a,setUser:c,currentId:s,setCurrentId:u},children:Object(m.jsxs)(h.a,{theme:l,children:[Object(m.jsx)(O.a,{}),e.children]})})},w=n(137),y=(n(371),n(8)),k=n(372),C=Object(k.a)((function(e){return{toolbar:Object(y.a)({display:"flex"},e.breakpoints.down("xs"),{flexDirection:"column",justifyContent:"center"}),logo:Object(y.a)({display:"flex",alignItems:"center"},e.breakpoints.down("xs"),{margin:"10px 0"}),imgText:{width:200,marginLeft:25},imgLogo:{width:40,margin:"3px 0 0 10px"},signinButton:{margin:"0 25px 0 auto"},profileButton:Object(y.a)({display:"flex",margin:"0 10px 0 auto",alignItems:"center",justifyContent:"center","&>*":{marginLeft:10}},e.breakpoints.down("xs"),{margin:"0 0 10px 0"}),avatar:{backgroundColor:"purple",marginRight:5},userButton:{padding:"1px 10px",borderRadius:"20px"},menuContainer:{margin:"50px 50px 0 0",transform:"translateX(-14px)"},navbarButton:Object(y.a)({display:"flex",margin:"0 10px 0 auto","&>*":{margin:"0 0 0 16px",padding:"7px 23px",borderRadius:"20px"}},e.breakpoints.down("xs"),{margin:"0 0 10px 0"})}})),S=n(373),N=n(650),R=function(){var e,t,n,a,c,o,i=C(),s=Object(b.c)(),l=Object(u.h)(),d=Object(u.g)(),O=Object(r.useState)(null),x=Object(f.a)(O,2),h=x[0],g=x[1],w=(Boolean(h),Object(r.useContext)(v));Object(r.useEffect)((function(){w.setUser(JSON.parse(localStorage.getItem("profile")))}),[l]);return w.user?Object(m.jsxs)(p.a,{className:i.profileButton,children:[Object(m.jsx)(S.a,{onClick:function(){s({type:"LOGOUT"}),w.setUser(JSON.parse(localStorage.getItem("profile"))),d.push("/")},variant:"contained",color:"secondary",style:{padding:"7px 20px",borderRadius:20},children:"log out"}),Object(m.jsxs)(S.a,{onClick:function(e){g(e.currentTarget)},className:i.userButton,children:[Object(m.jsx)(N.a,{style:{backgroundColor:"purple",marginRight:5},className:i.avatar,src:null===(e=w.user)||void 0===e||null===(t=e.userData)||void 0===t?void 0:t.userImage,children:null===(n=w.user)||void 0===n||null===(a=n.userData)||void 0===a?void 0:a.name.charAt(0)}),Object(m.jsx)(j.a,{variant:"h6",children:null===(c=w.user)||void 0===c||null===(o=c.userData)||void 0===o?void 0:o.name.split(" ")[0]})]})]}):Object(m.jsxs)(p.a,{className:i.navbarButton,children:[Object(m.jsx)(S.a,{onClick:function(){return d.push("/user/login")},variant:"contained",color:"primary",className:i.signinButton,style:{marginRight:"10px",borderRadius:"3px"},children:"sign in"}),Object(m.jsx)(S.a,{onClick:function(){return d.push("/user/signup")},variant:"outlined",color:"primary",className:i.signinButton,children:"sign up"})]})},P=function(){var e=C(),t=Object(r.useContext)(v);Object(b.c)();return Object(r.useEffect)((function(){}),[null===t||void 0===t?void 0:t.user]),Object(m.jsx)("main",{children:Object(m.jsxs)(l.a,{position:"static",className:e.appbar,color:"inherit",children:[Object(m.jsxs)(d.a,{className:e.toolbar,children:[Object(m.jsxs)(p.a,{className:e.logo,children:[Object(m.jsx)(p.a,{className:e.imgText,children:Object(m.jsx)(j.a,{variant:"h4",children:"PCR Test"})}),Object(m.jsx)(p.a,{className:e.imgLogo,children:Object(m.jsx)(j.a,{variant:"h4"})})]}),Object(m.jsx)(R,{})]}),Object(m.jsx)(w.a,{})]})})},I=n(16),T=n(20),A=n(441),B=n(648),D=n(655),L=n(641),F=n(654),E=n(652),_=n(656),U=n(659),H=n(651),W=n(658),G=n(657),M=n(645),J=n(662),V=n(420),q=n.n(V),z=n(422),Y=n.n(z),X=n(421),K=n.n(X),Q=[{key:"dashboard",name:"Dashboard",path:"/main/home",component:function(){return Object(m.jsx)($t,{})},role:"1"},{key:"user",name:"users",path:"/main/users",component:function(){return Object(m.jsx)(Mt,{})},role:"1"},{key:"apply",name:"Apply",path:"/main/apply",component:function(){return Object(m.jsx)(Qe,{})},role:"3"},{key:"proposal",name:"Proposal",path:"/main/proposal",component:function(){return Object(m.jsx)(tn,{})},role:"1"},{key:"viewproposal",name:"ViewProposal",path:"/main/viewproposal",component:function(){return Object(m.jsx)(nn,{})},role:"3"}],Z=n(28),$=n.n(Z),ee=n(40),te=n(418);a="http://https://pcrtest-centers.herokuapp.com/";var ne=n.n(te).a.create({baseURL:"".concat(a)});ne.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("profile"));return t&&(e.headers.Authorization="Bearer ".concat(t.token)),e}));var ae=function(e){return ne.post("/api/v1/user/login",e)},re=function(e){return ne.post("/api/v1/user/signup",e)},ce=function(e){return ne.patch("/api/v1/user/forgotPassword",e)},oe=function(e,t){return ne.put("/api/v1/user/updateUser/".concat(e),t)},ie=function(e){return ne.post("/api/v1/user/addNewUser",e)},se=function(e){return ne.post("/api/v1/apply/addNewInfo",e)},ue=function(e,t){return ne.put("/api/v1/apply/updateProposal/".concat(e),t)},le=function(e){return ne.delete("/api/v1/apply/deleteProposal/".concat(e))},de=function(e){return ne.put("/api/v1/apply/approved/".concat(e))},pe=function(e){return ne.put("/api/v1/apply/declined/".concat(e))},je=function(e){return ne.post("/api/v1/apply/viewRequest",e)},be=function(e){return ne.post("/api/v1/apply/sendMail",e)},fe="GET_PROPOSAL_SUCCESS",Oe="VIEW_DATA",xe=function(){return function(){var e=Object(ee.a)($.a.mark((function e(t){var n,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get("/api/v1/apply/getProposals");case 3:n=e.sent,a=n.data,t({type:fe,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("backend is not called",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},he=function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){var r;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ue(e,t);case 3:r=n.sent,r.data,a(xe()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("backend is not called",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},me=function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,le(e);case 3:n(xe()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("backend is not called",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){var a,r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je(e);case 3:a=t.sent,r=a.data,window.open(r,"_blank"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("backend is not called",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ge=n(643),we=n(660),ye=n(661),ke=n(423),Ce=n.n(ke);var Se=Object(T.a)(E.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(I.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),Ne=Object(T.a)(L.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return{"& .MuiDrawer-paper":Object(I.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&Object(y.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),Re=Object(A.a)();function Pe(){var e,t=c.a.useState(!0),n=Object(f.a)(t,2),a=n[0],o=n[1],i=c.a.useContext(v),l=function(){o(!a)},d=Object(b.c)();Object(r.useEffect)((function(){d(xe())}),[]);var p=Object(b.d)((function(e){return e.proposal.proposals})),j=0;Object(r.useMemo)((function(){return null===p||void 0===p?void 0:p.map((function(e){j+=!e.state}))}));var O=Q.filter((function(e){var t;return(null===e||void 0===e?void 0:e.role)==(null===(t=i.user)||void 0===t?void 0:t.userData.role)}));return Object(m.jsx)(B.a,{theme:Re,children:Object(m.jsxs)(F.a,{sx:{display:"flex"},children:[Object(m.jsx)(D.a,{}),Object(m.jsx)(Se,{position:"absolute",open:a,children:Object(m.jsxs)(_.a,{sx:{pr:"24px"},children:[Object(m.jsx)(G.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:l,sx:Object(I.a)({marginRight:"36px"},a&&{display:"none"}),children:Object(m.jsx)(q.a,{})}),Object(m.jsx)(H.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Dashboard"}),"1"==(null===(e=i.user)||void 0===e?void 0:e.userData.role)?Object(m.jsx)(G.a,{color:"inherit",component:s.b,to:"/main/proposal",children:Object(m.jsx)(M.a,{badgeContent:j,color:"secondary",children:Object(m.jsx)(K.a,{})})}):"",Object(m.jsx)(R,{})]})}),Object(m.jsxs)(Ne,{variant:"permanent",open:a,children:[Object(m.jsx)(_.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(m.jsx)(G.a,{onClick:l,children:Object(m.jsx)(Y.a,{})})}),Object(m.jsx)(W.a,{}),Object(m.jsx)(U.a,{children:O.map((function(e){return Object(m.jsxs)(ge.a,{button:!0,component:s.b,to:e.path,children:[Object(m.jsx)(we.a,{children:Object(m.jsx)(Ce.a,{})}),Object(m.jsx)(ye.a,{primary:e.name})]},e.key)}))})]}),Object(m.jsxs)(F.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(m.jsx)(_.a,{}),Object(m.jsx)(J.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:Object(m.jsx)(u.d,{children:O.map((function(e){return Object(m.jsx)(u.b,{exact:!0,path:e.path,render:e.component},e.key)}))})})]})]})})}function Ie(){return Object(m.jsx)(Pe,{})}var Te=n(156),Ae=n(629),Be=n(630),De=n(631),Le=n(628),Fe=n(384),Ee=Object(k.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"}}}));function _e(e){var t=e.date,n=e.setDate,a=Ee();return Object(m.jsx)("form",{className:a.container,noValidate:!0,children:Object(m.jsx)(Fe.a,{id:"date",label:"Birthday",type:"date",onChange:function(e){return n(e.target.value)},value:t,className:a.textField,InputLabelProps:{shrink:!0}})})}var Ue=n(646),He=n(385),We=n(386),Ge=n(295),Me=n(565);function Je(e){var t=e.value,n=e.setValue;return Object(m.jsxs)(Ge.a,{component:"fieldset",children:[Object(m.jsx)(Me.a,{component:"legend",children:"Gender"}),Object(m.jsxs)(He.a,{row:!0,"aria-label":"gender",name:"gender1",value:t,onChange:function(e){return n(e.target.value)},children:[Object(m.jsx)(We.a,{value:"male",control:Object(m.jsx)(Ue.a,{}),label:"Male"}),Object(m.jsx)(We.a,{value:"female",control:Object(m.jsx)(Ue.a,{}),label:"Female"})]})]})}var Ve=n(663);function qe(e){var t=e.type,n=e.setType;return Object(m.jsxs)(Ge.a,{component:"fieldset",children:[Object(m.jsx)(Me.a,{component:"legend",children:"document type"}),Object(m.jsxs)(He.a,{row:!0,"aria-label":"type",name:"type",value:t,onChange:function(e){return n(e.target.value)},children:[Object(m.jsx)(We.a,{value:"1",control:Object(m.jsx)(Ue.a,{}),label:"Al Hekma"}),Object(m.jsx)(We.a,{value:"2",control:Object(m.jsx)(Ue.a,{}),label:"Al Shames"}),Object(m.jsx)(We.a,{value:"3",control:Object(m.jsx)(Ue.a,{}),label:"Mena"}),Object(m.jsx)(We.a,{value:"4",control:Object(m.jsx)(Ue.a,{}),label:"Al Mokhtabar"})]})]})}var ze=function(e){var t=e.setActiveStep,n=Object(r.useState)(""),a=Object(f.a)(n,2),o=a[0],i=a[1],s=Object(r.useState)(!1),u=Object(f.a)(s,2),l=u[0],d=u[1],p=Object(r.useState)(!1),O=Object(f.a)(p,2),x=O[0],h=O[1],g=Object(r.useState)("1990-01-01"),w=Object(f.a)(g,2),y=w[0],k=w[1],C=Object(r.useState)(1),S=Object(f.a)(C,2),N=S[0],R=S[1],P=Object(r.useState)(""),I=Object(f.a)(P,2),T=I[0],A=I[1],B=Object(r.useState)("male"),D=Object(f.a)(B,2),L=D[0],F=D[1],E=Object(b.c)(),_=Object(r.useContext)(v);return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(j.a,{variant:"h6",gutterBottom:!0,children:"Information"}),Object(m.jsxs)(Le.a,{container:!0,spacing:3,children:[Object(m.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(m.jsx)(Fe.a,{error:l,required:!0,id:"fullname",label:"Full Name",fullWidth:!0,autoComplete:"cc-name",value:o,onChange:function(e){return i(e.target.value)}})}),Object(m.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(m.jsx)(_e,{date:y,setDate:k})}),Object(m.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(m.jsx)(Je,{value:L,setValue:F})}),Object(m.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(m.jsx)(Fe.a,{required:!0,error:x,id:"passport",label:"Passport",value:T,onChange:function(e){return A(e.target.value)},fullWidth:!0,autoComplete:"cc-csc"})}),Object(m.jsx)(Le.a,{item:!0,xs:12,md:12,children:Object(m.jsx)(qe,{type:N,setType:R})}),Object(m.jsx)(Le.a,{container:!0,justifyContent:"center",style:{marginTop:20},children:Object(m.jsx)(Ve.a,{variant:"contained",color:"primary",onClick:function(){var e;""===o?d(!0):""===T?h(!0):(E((e={userId:_.user.userData._id,name:o,birth:y,gender:L,passport:T,docType:N},function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("backend is not called",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}())),t(1))},children:"Place order"})})]})]})},Ye=Object(k.a)((function(e){return{appBar:{position:"relative"},layout:Object(y.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(y.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),Xe=["Your info"];function Ke(){var e=Ye(),t=c.a.useState(0),n=Object(f.a)(t,2),a=n[0],r=n[1];return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(O.a,{}),Object(m.jsx)("main",{className:e.layout,children:Object(m.jsxs)(Te.a,{className:e.paper,children:[Object(m.jsx)(j.a,{component:"h1",variant:"h4",align:"center",children:"PCR TEST"}),Object(m.jsx)(Ae.a,{activeStep:a,className:e.stepper,children:Xe.map((function(e){return Object(m.jsx)(Be.a,{children:Object(m.jsx)(De.a,{children:e})},e)}))}),Object(m.jsx)(c.a.Fragment,{children:a===Xe.length?Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(j.a,{variant:"h5",gutterBottom:!0,children:"Thank you for your order."}),Object(m.jsx)(j.a,{variant:"subtitle1",children:"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped."})]}):Object(m.jsx)(c.a.Fragment,{children:Object(m.jsx)(ze,{setActiveStep:r})})})]})})]})}var Qe=function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(Ke,{})})},Ze=n(649),$e=n(300),et=n.n($e),tt=n(426),nt=n.n(tt),at=n(436),rt=n.n(at),ct=n(427),ot=n.n(ct),it=n(434),st=n.n(it),ut=n(307),lt=n.n(ut),dt=n(306),pt=n.n(dt),jt=n(428),bt=n.n(jt),ft=n(429),Ot=n.n(ft),xt=n(431),ht=n.n(xt),mt=n(432),vt=n.n(mt),gt=n(433),wt=n.n(gt),yt=n(437),kt=n.n(yt),Ct=n(430),St=n.n(Ct),Nt=n(435),Rt=n.n(Nt),Pt=n(438),It=n.n(Pt),Tt={Add:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(nt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(ot.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(pt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(bt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(lt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(Ot.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(St.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(ht.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(vt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(wt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(lt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(st.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(pt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(Rt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(rt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(kt.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(m.jsx)(It.a,Object(I.a)(Object(I.a)({},e),{},{ref:t}))}))},At=function(e){var t=e.columns,n=e.title,a=e.data,r=e.editable,c=e.options;return Object(m.jsx)(et.a,{icons:Tt,title:n,options:c,columns:t,data:a,editable:r})},Bt="AUTH",Dt="LOGOUT",Lt="UPDATE_ME",Ft="SUCCESS",Et="ERROR",_t="INFO",Ut="GET_USERLIST",Ht={position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},Wt=function(e,t){e===Ft?w.b.success("".concat(t),Ht):"WARNING"===e?w.b.warn("".concat(t),Ht):e===Et?w.b.error("".concat(t),Ht):e===_t&&w.b.info("".concat(t),Ht)},Gt=function(){return function(){var e=Object(ee.a)($.a.mark((function e(t){var n,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get("/api/v1/user/getUsers");case 3:n=e.sent,a=n.data,t({type:Ut,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Wt(Et,e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Mt=function(){var e=Object(b.c)();Object(r.useEffect)((function(){e(Gt())}),[]);var t=Object(b.d)((function(e){return e.user.users})),n={onRowAdd:function(t){return new Promise((function(n,a){setTimeout((function(){var a;e((a=t,function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(a);case 3:t(Gt()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Wt(Et,e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())),n()}),1e3)}))},onRowUpdate:function(t,n){return new Promise((function(a,r){setTimeout((function(){var r,c;e((r=n._id,c=t,function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(r,c);case 3:t(Gt()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Wt(Et,e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())),a()}),1e3)}))},onRowDelete:function(t){return new Promise((function(n,a){setTimeout((function(){e(function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a=e._id,ne.delete("/api/v1/user/deleteUser/".concat(a));case 3:n(Gt()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Wt(Et,t.t0.response.data.message);case 9:case"end":return t.stop()}var a}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t)),n()}),1e3)}))}};return Object(m.jsx)(Ze.a,{children:Object(m.jsx)(At,{data:t,title:"Users",columns:[{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Status",field:"status",lookup:{1:"Inactive",2:"Active"}},{title:"Role",field:"role",lookup:{1:"admin",2:"sender",3:"user"}}],editable:n,options:{actionsColumnIndex:-1,tableLayout:"auto"}})})},Jt=n(640),Vt=Object(k.a)((function(e){return{authContainer:{width:400,margin:"60px auto 20px"},authHeader:{textAlign:"center",padding:"24px 0"},authLogo:{display:"flex",backgroundColor:"#F50057",color:"#FFFFFF",borderRadius:"100%",width:40,height:40,alignItems:"center",justifyContent:"center",margin:"0 auto 10px"},formContainer:{position:"relative",padding:"0 20px 50px","&>*":{marginBottom:15}},switchButton:{position:"absolute",bottom:0,right:20},googleButton:{"& first-child":{fontSize:12},justifyContent:"center",alignItems:"center"},forgotPasswordLink:{display:"flex",justifyContent:"center"}}})),qt=n(399),zt=n(299),Yt=n(638),Xt=n(639),Kt=function(e){var t=e.name,n=e.label,a=e.value,r=e.ChangeHandler,c=e.half,o=e.type,i=e.setShowPassword;return Object(m.jsx)(Le.a,{item:!0,xs:c?6:12,children:Object(m.jsx)(Fe.a,{name:t,label:n,type:o,value:a,fullWidth:!0,variant:"outlined",required:!0,onChange:r,InputProps:"password"===t?{endAdornment:Object(m.jsx)(qt.a,{position:"end",children:Object(m.jsx)(zt.a,{onClick:i,children:"password"===o?Object(m.jsx)(Yt.a,{}):Object(m.jsx)(Xt.a,{})})})}:null})})},Qt={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},Zt=function(){var e=Object(u.i)(),t=Vt(),n="signup"===e.signin,a="forgotPassword"===e.signin,c=Object(r.useState)(Qt),o=Object(f.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)("password"),O=Object(f.a)(d,2),x=O[0],h=O[1],v=Object(u.g)(),g=Object(b.c)(),w=function(e){l(Object(I.a)(Object(I.a)({},i),{},Object(y.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)(Te.a,{component:p.a,elevation:6,className:t.authContainer,children:[Object(m.jsxs)(p.a,{className:t.authHeader,children:[Object(m.jsx)(p.a,{className:t.authLogo,children:Object(m.jsx)(Jt.a,{fontSize:"medium"})}),Object(m.jsx)(j.a,{variant:"h5",children:a?"Forgot Password":n?"Sign up":"Sign in"}),a&&Object(m.jsx)(j.a,{variant:"body2",style:{textAlign:"center",margin:"10px 20px 0"},children:"Enter your email we wil send you an email with instructions to reset your password"})]}),Object(m.jsxs)("form",{className:t.formContainer,onSubmit:function(e){e.preventDefault(),g(n?function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){var r,c;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,re(e);case 3:r=n.sent,c=r.data,a({type:Bt,payload:c}),Wt(Ft,"Signup successfull!"),t.push("/"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),Wt(Et,n.t0.response.data.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(Object(I.a)(Object(I.a)({},i),{},{name:i.firstName+" "+i.lastName}),v):a?function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Wt(_t,"Please wait! Your data is processed..."),t.next=4,ce(e);case 4:Wt(Ft,"Token send to your email"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Wt(Et,t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}({email:i.email}):function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){var r,c;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ae(e);case 3:r=n.sent,c=r.data,a({type:Bt,payload:c}),Wt(Ft,"Login successfull!"),t.push("/main"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),Wt(Et,n.t0.response.data.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(i,v)),l(Qt)},children:[Object(m.jsxs)(Le.a,{container:!0,spacing:2,children:[n&&Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(Kt,{name:"firstName",label:"First Name",type:"text",value:i.firstName,ChangeHandler:w,half:!0}),Object(m.jsx)(Kt,{name:"lastName",label:"Last Name",type:"text",value:i.lastName,ChangeHandler:w,half:!0})]}),Object(m.jsx)(Kt,{name:"email",label:"Email Address",type:"email",value:i.email,ChangeHandler:w}),!a&&Object(m.jsx)(Kt,{name:"password",label:"Password",type:x,value:i.password,ChangeHandler:w,setShowPassword:function(){h("password"===x?"text":"password")}}),n&&Object(m.jsx)(Kt,{name:"confirmPassword",label:"Confirm Password",type:"password",value:i.confirmPassword,ChangeHandler:w})]}),!n&&!a&&Object(m.jsx)(p.a,{className:t.forgotPasswordLink,children:Object(m.jsx)(s.b,{to:"/user/forgotPassword",children:"forgot password?"})}),Object(m.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:a?"Send Reset Link":n?"Sign up":"sign in"}),Object(m.jsx)(S.a,{className:t.switchButton,onClick:function(){l(Qt),n||a?v.push("/user/login"):v.push("/user/signup")},children:a?"Back to login":n?"Already have an account? Sign In":"don't Have an account? sign up"})]})]})},$t=function(){return Object(m.jsx)(F.a,{sx:{marginTop:"0px",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}})},en=n(664),tn=function(){var e=Object(b.c)();Object(r.useEffect)((function(){e(xe())}),[]);var t=Object(b.d)((function(e){return e.proposal.proposals})),n=function(t){e(function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de(e);case 3:n(xe()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("backend is not called",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},a=function(t){e(function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe(e);case 3:n(xe()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("backend is not called",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},c=function(t){e(function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){var a,r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be(e);case 3:a=t.sent,r=a.data,console.log(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("backend is not called",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}({_id:t}))},o={onRowUpdate:function(t,n){return new Promise((function(a,r){setTimeout((function(){e(he(n._id,t)),a()}),1e3)}))},onRowDelete:function(t){return new Promise((function(n,a){setTimeout((function(){e(me(t._id)),n()}),1e3)}))}},i=[{title:"Name",field:"name",editable:"never"},{title:"Gender",field:"gender",editable:"never"},{title:"Birthday",field:"birth",editable:"never"},{title:"Passport",field:"passport",editable:"never"},{title:"State",field:"state",lookup:{0:"pending",1:"approved",2:"decline"},editable:"never"},{title:"Positive/Negative",field:"result",lookup:{1:"positive",2:"negative"}},{title:"Applied date",field:"createAt",editable:"never"},{title:"Control",field:"control",render:function(t){return 0==t.state?Object(m.jsxs)(en.a,{variant:"contained","aria-label":"outlined primary button group",children:[Object(m.jsx)(Ve.a,{color:"success",onClick:function(){return n(t._id)},children:"approved"}),Object(m.jsx)(Ve.a,{color:"error",onClick:function(){return a(t._id)},children:"decline"})]}):1==t.state?Object(m.jsxs)(en.a,{variant:"contained","aria-label":"outlined primary button group",children:[Object(m.jsx)(Ve.a,{onClick:function(){return n=t._id,void e(ve({_id:n}));var n},children:"view"}),Object(m.jsx)(Ve.a,{onClick:function(){return c(t._id)},children:"send email"})]}):void 0}}];return Object(m.jsx)(Ze.a,{children:Object(m.jsx)(At,{data:t,title:"Users",columns:i,editable:o,options:{actionsColumnIndex:-1,tableLayout:"auto",rowStyle:function(e){return{backgroundColor:1==e.result?"#e73636":2==e.result?"grey":"",color:2==e.result||1==e.result?"white":""}}}})})},nn=function(){var e=Object(b.c)();Object(r.useEffect)((function(){e(xe())}),[]);var t=Object(r.useContext)(v),n=Object(b.d)((function(e){return e.proposal.proposals})).filter((function(e){var n;return e.userId===(null===(n=t.user)||void 0===n?void 0:n.userData._id)})),a={onRowUpdate:function(t,n){return new Promise((function(a,r){setTimeout((function(){e(he(n._id,t)),a()}),1e3)}))},onRowDelete:function(t){return new Promise((function(n,a){setTimeout((function(){e(me(t._id)),n()}),1e3)}))}},c=[{title:"Name",field:"name",editable:"never"},{title:"Gender",field:"gender",editable:"never"},{title:"Birthday",field:"birth",editable:"never"},{title:"Passport",field:"passport",editable:"never"},{title:"State",field:"state",lookup:{0:"pending",1:"approved",2:"decline"},editable:"never"},{title:"Positive/Negative",field:"result",lookup:{1:"positive",2:"negative"},editable:"never"},{title:"Applied date",field:"createAt",editable:"never"},{title:"Control",field:"control",render:function(t){return 1!=t.state?"":Object(m.jsx)(en.a,{variant:"contained","aria-label":"outlined primary button group",children:Object(m.jsx)(Ve.a,{onClick:function(){return n=t._id,void e(ve({_id:n}));var n},children:"View and Download"})})}}];return Object(m.jsx)(Ze.a,{children:Object(m.jsx)(At,{data:n,title:"My request",columns:c,editable:a,options:{actionsColumnIndex:-1,tableLayout:"auto",rowStyle:function(e){return{backgroundColor:1==e.result?"#e73636":2==e.result?"grey":"",color:2==e.result||1==e.result?"white":""}}}})})},an=function(){var e=Object(r.useContext)(v);return Object(m.jsx)(Ze.a,{children:Object(m.jsxs)(s.a,{children:[e.user?"":Object(m.jsx)(P,{}),Object(m.jsxs)(u.d,{children:[Object(m.jsx)(u.b,{exact:!0,path:"/",component:function(){return e.user?Object(m.jsx)(u.a,{to:"/main"}):Object(m.jsx)(u.a,{to:"/user/login"})}}),Object(m.jsx)(u.b,{path:"/main",render:function(){return e.user?Object(m.jsx)(Ie,{}):Object(m.jsx)(u.a,{to:"/"})}}),Object(m.jsx)(u.b,{path:"/user/:signin",component:function(){return e.user?Object(m.jsx)(u.a,{to:"/main"}):Object(m.jsx)(Zt,{})}})]})]})})},rn=(n(555),n(93)),cn=n(439),on=n(440),sn={proposals:[],url:""},un=Object(rn.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{},users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bt:return localStorage.setItem("profile",JSON.stringify(t.payload)),Object(I.a)(Object(I.a)({},e),{},{user:t.payload});case Dt:return localStorage.removeItem("profile"),Object(I.a)({},e);case Lt:var n=JSON.parse(localStorage.getItem("profile"));return n.userData=t.payload.userData,localStorage.setItem("profile",JSON.stringify(n)),Object(I.a)(Object(I.a)({},e),{},{user:t.payload});case Ut:return Object(I.a)(Object(I.a)({},e),{},{users:t.payload});default:return e}},proposal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(I.a)(Object(I.a)({},e),{},{proposals:t.payload});case Oe:return Object(I.a)(Object(I.a)({},e),{},{url:t.payload});default:return e}}}),ln=[cn.a],dn=Object(rn.createStore)(un,Object(on.composeWithDevTools)(rn.applyMiddleware.apply(void 0,ln)));i.a.render(Object(m.jsx)(b.a,{store:dn,children:Object(m.jsx)(g,{children:Object(m.jsx)(an,{})})}),document.getElementById("root"))}},[[556,1,2]]]);
//# sourceMappingURL=main.72fc8772.chunk.js.map